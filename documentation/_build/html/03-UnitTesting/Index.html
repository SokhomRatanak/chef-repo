

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Unit Testing &mdash; Chef in practice 1.0.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Chef in practice 1.0.0 documentation" href="../index.html" />
    <link rel="next" title="Functional Testing" href="../04-FunctionalityTesting/Index.html" />
    <link rel="prev" title="Continuous Integration" href="../02-ContinuousIntegration/Index.html" /> 
  </head>
  <body>
    <div class="header-wrapper">
      <div class="header">
        <div class="headertitle"><a
          href="../Index.html">Chef in practice 1.0.0 documentation</a></div>
        <div class="rel">
          <a href="../02-ContinuousIntegration/Index.html" title="Continuous Integration"
             accesskey="P">previous</a> |
          <a href="../04-FunctionalityTesting/Index.html" title="Functional Testing"
             accesskey="N">next</a> |
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="unit-testing">
<h1>Unit Testing<a class="headerlink" href="#unit-testing" title="Permalink to this headline">¶</a></h1>
<div class="section" id="what-is-a-unit-test">
<h2>What is a Unit Test?<a class="headerlink" href="#what-is-a-unit-test" title="Permalink to this headline">¶</a></h2>
<p>In computer programming, unit testing is a method by which individual units of source code are tested to determine if they are fit for use. A unit is the smallest testable part of an application.</p>
</div>
<div class="section" id="the-php-quality-assurance-toolchain">
<h2>The PHP Quality Assurance Toolchain<a class="headerlink" href="#the-php-quality-assurance-toolchain" title="Permalink to this headline">¶</a></h2>
<p>Here is an overview of what tools we need to install:</p>
<ul class="simple">
<li><a class="reference external" href="https://github.com/sebastianbergmann/phpunit/">PHPUnit</a> is a unit testing software framework for the programming language PHP. PHPUnit was created with the view that the sooner you detect your code mistakes, the quicker you can fix them. Itself, PHPUnit is the de-facto standard for the unit testing of PHP code.</li>
<li><a class="reference external" href="http://pear.php.net/package/PHP_CodeSniffer/">PHP_CodeSniffer</a> is the most commonly used tool for static analysis of PHP code. It is typically used to detect violations of code formatting standards but also sup- ports software metrics as well as the detection of potential defects.</li>
<li><a class="reference external" href="https://github.com/sebastianbergmann/phpcpd">phpcpd</a> (PHP Copy/Paste Detector) searches for duplicated code in a PHP project.</li>
<li><a class="reference external" href="http://pdepend.org/">PHP_Depend</a> is a tool for static code analysis of PHP code that is inspired by JDe- pend.</li>
<li><a class="reference external" href="http://phpmd.org/">phpmd</a> (PHP Mess Detector) allows the definition of rules that operate on the raw data collected by PHP_Depend.</li>
<li><a class="reference external" href="https://github.com/sebastianbergmann/phploc">phploc</a> measures the scope of a PHP project by, among other metrics, means of different forms of the Lines of Code (LOC) software metric.</li>
<li><a class="reference external" href="http://blog.mayflower.de/archives/626-PHP_CodeBrowser-goes-stable.html">PHP_CodeBrowser</a> is a report generator that takes the XML output of the afore- mentioned tools as well as the sourcecode of the project as its input.</li>
<li>Although it is currently being replaced by more modern tools such as <a class="reference external" href="https://github.com/theseer/phpdox">phpdox</a>, we will use <a class="reference external" href="http://pear.php.net/package/PHPDocumentor/">PHPDocumentor</a> for automated API documentation generation for PHP code in this book.</li>
</ul>
</div>
<div class="section" id="unit-test-with-typo3">
<h2>Unit Test with TYPO3<a class="headerlink" href="#unit-test-with-typo3" title="Permalink to this headline">¶</a></h2>
<p>In order to be able to run Unit Tests in the frame of a TYPO3 website, the server must be configured to run TYPO3 properly. To achieve it, a Chef recipe can be used to configure the server (cf. next chapter).</p>
</div>
<div class="section" id="installing">
<h2>Installing<a class="headerlink" href="#installing" title="Permalink to this headline">¶</a></h2>
<p>Installing a PHP Unit Test environment using Chef is about setting the appropriate roles.</p>
<div class="highlight-python"><pre># Edit role to the HOSTNAME (e.g ci.company.com) .
knife node edit HOSTNAME

# Verify the HOSTNAME has the recipes in the right order:
 "run_list": [
   "role[base]",
   "role[web]",
   "role[web-typo3]",
   "role[ci]",
   "role[unit-test]"
 ]

# Login into the client and run chef-client to execute the recipes
ssh HOSTNAME
sudo chef-client

# Alternatively, chef-client can be launched from the workstation
knife ssh name:ci* -x USERNAM "sudo chef-client"</pre>
</div>
<p>At the end of the installation, a new Job has been created within <a class="reference external" href="http://ci.web-essentials.asia">http://ci.web-essentials.asia</a>. This job contains default configuration and is set as disabled because it will never be used as such but will be copied as template for new real jobs.</p>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../01-Installation/Index.html">Chef</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02-ContinuousIntegration/Index.html">Continuous Integration</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Unit Testing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#what-is-a-unit-test">What is a Unit Test?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-php-quality-assurance-toolchain">The PHP Quality Assurance Toolchain</a></li>
<li class="toctree-l2"><a class="reference internal" href="#unit-test-with-typo3">Unit Test with TYPO3</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installing">Installing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../04-FunctionalityTesting/Index.html">Functional Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../05-Tutorials/Index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../10-Appendix/Index.html">Appendix</a></li>
</ul>

          <h3 style="margin-top: 1.5em;">Search</h3>
          <form class="search" action="../search.html" method="get">
            <input type="text" name="q" />
            <input type="submit" value="Go" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
          <p class="searchtip" style="font-size: 90%">
            Enter search terms or a module, class or function name.
          </p>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <a href="../02-ContinuousIntegration/Index.html" title="Continuous Integration"
             >previous</a> |
          <a href="../04-FunctionalityTesting/Index.html" title="Functional Testing"
             >next</a> |
          <a href="../genindex.html" title="General Index"
             >index</a>
            <br/>
            <a href="../_sources/03-UnitTesting/Index.txt"
               rel="nofollow">Show Source</a>
        </div>

        <div class="right">
          
    <div class="footer">
        &copy; Copyright 2012, Fabien Udriot.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>